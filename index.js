import{i as a,a as L,S as E}from"./assets/vendor-Fd3mU3Z4.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))o(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&o(i)}).observe(document,{childList:!0,subtree:!0});function n(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerPolicy&&(s.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?s.credentials="include":t.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(t){if(t.ep)return;t.ep=!0;const s=n(t);fetch(t.href,s)}})();const S="48661000-87492d5612d6e41eb1a42ef3d",b="https://pixabay.com/api/";async function M(e,r=1,n=40){if(!e||typeof e!="string"||e.trim()==="")return a.warning({title:"Warning",message:"Please enter a search term!",position:"topRight"}),null;try{const o=await L.get(b,{params:{key:S,q:encodeURIComponent(e),image_type:"photo",orientation:"horizontal",safesearch:!0,per_page:n,page:r}});if(console.log("API Response:",o.data),o.status!==200)throw new Error(`API error: ${o.status}`);return!o.data.hits||o.data.hits.length===0?(a.info({title:"Info",message:"No images found for your search!",position:"topRight"}),null):{hits:o.data.hits,totalHits:Math.min(o.data.totalHits,500)}}catch(o){return console.error("Error fetching images:",o),a.error({title:"Error",message:"Failed to load images. Please try again.",position:"topRight"}),null}}const c=document.querySelector(".gallery"),I=new E(".gallery a",{captionsData:"alt",captionDelay:250});function P(){c.innerHTML=""}function B(e,r=!1){if(e.length===0){H();return}const n=e.map(({webformatURL:o,largeImageURL:t,tags:s,likes:i,views:h,comments:y,downloads:v,id:w})=>`
    <div class="gallery-item" data-id="${w}">
      <a href="${t}">
        <img src="${o}" alt="${s}" loading="lazy" />
      </a>
      <div class="image-info">
        <div class="item"><span class="label">Likes</span><span class="count">${i}</span></div>
        <div class="item"><span class="label">Views</span><span class="count">${h}</span></div>
        <div class="item"><span class="label">Comments</span><span class="count">${y}</span></div>
        <div class="item"><span class="label">Downloads</span><span class="count">${v}</span></div>
      </div>
    </div>
  `).join("");r||(c.innerHTML=""),c.insertAdjacentHTML("beforeend",n),I.refresh(),R()}function R(){const e=document.querySelector(".gallery-item");if(e){const r=e.getBoundingClientRect().height;window.scrollBy({top:r*2,behavior:"smooth"})}}function H(){c.innerHTML=`
    <p class="error-message">
      Sorry, no images match your search. Please try again!
    </p>
  `}function $(){const e=document.createElement("p");e.classList.add("end-message"),e.textContent="You've reached the end of the collection.",c.after(e)}function q(){const e=document.querySelector(".end-message");e&&e.remove()}function f(){const e=document.querySelector(".load-more");e&&(e.style.display="none")}function x(){const e=document.querySelector(".load-more");e&&(e.style.display="block")}document.querySelector(".gallery");const A=document.querySelector(".search-form"),O=document.querySelector(".load-more");let l="",d=1;const g=40;let u=0,m=new Set;function C(){document.getElementById("loading-overlay").style.display="flex"}function N(){document.getElementById("loading-overlay").style.display="none"}async function p(e,r){C();try{const n=await M(e,r,g);if(!n||!n.hits||n.hits.length===0){a.error({title:"Error",message:"No images found for the given search term.",position:"topRight"});return}u=Math.min(n.totalHits,500);const o=n.hits.filter(t=>!m.has(t.id));o.length>0&&(B(o,d>1),o.forEach(t=>m.add(t.id))),u>g?x():(f(),$()),T()}catch{a.error({title:"Error",message:"Failed to load images. Please try again.",position:"topRight"})}finally{N()}}function T(){const e=document.querySelector(".gallery-item");if(e){const r=e.getBoundingClientRect().height;window.scrollBy({top:r*2,behavior:"smooth"})}}A.addEventListener("submit",async e=>{if(e.preventDefault(),l=e.target.elements.searchQuery.value.trim(),!l||l.trim()===""){a.warning({title:"Warning",message:"Please enter a search term!",position:"topRight"});return}d=1,u=0,m.clear(),P(),f(),q(),p(l,d)});O.addEventListener("click",async()=>{d+=1,p(l,d)});
//# sourceMappingURL=index.js.map
